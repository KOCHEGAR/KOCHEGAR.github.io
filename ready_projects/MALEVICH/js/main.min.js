!function(e,n){"function"==typeof define&&define.amd?define(["ScrollMagic","jquery"],n):"object"==typeof exports?n(require("scrollmagic"),require("jquery")):n(e.ScrollMagic,e.jQuery)}(this,function(e,n){"use strict";e._util.get.elements=function(e){return n(e).toArray()},e._util.addClass=function(e,t){n(e).addClass(t)},e._util.removeClass=function(e,t){n(e).removeClass(t)},n.ScrollMagic=e}),$(document).ready(function(){var e=$("body"),n=$(".wrapper"),t=n.find(".menu"),s=t.find(".menu__trigger"),o=t.find(".menu__showable-content"),a=n.find(".main-content"),i=n.find(".darkoverlay"),d=n.find(".events__item"),l=n.find(".linkedAnchor"),r=(n.find("#linkedAnchor-1"),n.find("#linkedAnchor-2"),!1),c=$(".main-content");$(".main-content__secord"),$(".empty-space-block");s.on("click",function(n){n.preventDefault(),t.toggleClass("opened"),t.hasClass("opened")&&t.hasClass("fxd")?(e.addClass("ovHidden"),o.addClass("scrollabe-vertical")):(e.removeClass("ovHidden"),o.removeClass("scrollabe-vertical"))}),i.click(function(n){n.preventDefault(),t.removeClass("opened"),i.removeClass("opened"),e.removeClass("ovHidden")}),l.click(function(e){e.preventDefault();var n=$(this),s=n.offset().left,o=n.width(),a=0;if("linkedAnchor-1"===n.attr("id")){r=!0;var i=0;t.hasClass("opened")&&(t.removeClass("opened"),i=-1280),!t.hasClass("fxd")&&t.hasClass("fxd")||(a=26-t.width()),$("html,body").stop().animate({scrollLeft:s+o+a+i},900,function(){r=!1})}else"linkedAnchor-2"===n.attr("id")&&(r=!0,d.each(function(){$(this).removeAttr("offset").removeClass("scrolled")}),c.css({left:0}),$("html,body").stop().animate({scrollLeft:0},1300,function(){r=!1}))}),$(".events .events__item").each(function(e,n){var t=$(this),s=d.length-e;t.find(".event__number").text(s)});var f=0,h=new ScrollMagic.Controller({vertical:!1});$(".events .events__item").each(function(){var e=$(this),n=e.find(".event"),t=e.find(".event__number"),s=e.find(".event__img-wrap"),o=e.find(".event__descr"),a=new TweenMax.to(n,1,{width:"+=634",ease:Power0.easeNone}),i=new TweenMax.to(s,1,{maxHeight:"597px",ease:Power0.easeNone}),d=new TweenMax.to(o,1,{top:105,ease:Back.easeInOut}),l=new TweenMax.to(t,1,{color:"#818181",ease:Power0.easeNone}),r=new TimelineMax;r.add(a).add(i,"0").add(d,"0").add(l,"0");new ScrollMagic.Scene({triggerElement:e,tweenChanges:!0,duration:256,offset:0}).setTween(r).addIndicators().addTo(h)});var u=0,v=0,m=0,p=$("<div>",{class:"debug_item",css:{backgroundColor:"red",display:"block",position:"fixed",zIndex:"999999",width:"2px",height:"100%",pointerEvents:"none"},offset:{top:0,left:$(window).width()/2-1}}),w=p.clone();w.css({height:"2px",width:"100%",left:"0","background-color":"blue",top:$(window).height()/2-1}),$("html").append(p).append(w);var C=0,g=0;$(window).on("scroll",function(e){m=$(this).scrollLeft(),f=m,g=$(this).width(),menuWidth=t.width(),u=g/2,v=t.width(),0===f&&t.hasClass("fxd")?(t.removeClass("fxd").css({opacity:0}).stop().animate({opacity:1},650),a.removeClass("fixed-menu")):f>=menuWidth&&!t.hasClass("fxd")&&!t.hasClass("opened")&&(t.addClass("fxd").css({opacity:0}).stop().animate({opacity:1},650),a.addClass("fixed-menu")),d.each(function(e,n){var t=$(this),s=t.offset().left,o=t.offset().left+t.width();f+u>=s&&!t.hasClass("onview")&&t.css({borderColor:"green"}),f+u>=o+28-346&&t.hasClass("onview")&&t.css({borderColor:"red"})}),C=m})});