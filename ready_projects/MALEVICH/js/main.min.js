!function(e,n){"function"==typeof define&&define.amd?define(["ScrollMagic","jquery"],n):"object"==typeof exports?n(require("scrollmagic"),require("jquery")):n(e.ScrollMagic,e.jQuery)}(this,function(e,n){"use strict";e._util.get.elements=function(e){return n(e).toArray()},e._util.addClass=function(e,t){n(e).addClass(t)},e._util.removeClass=function(e,t){n(e).removeClass(t)},n.ScrollMagic=e}),$(document).ready(function(){var e=$("body"),n=$(".wrapper"),t=n.find(".menu"),o=t.find(".menu__trigger"),s=t.find(".menu__showable-content"),a=n.find(".main-content"),i=n.find(".darkoverlay"),d=n.find(".events__item"),r=n.find(".linkedAnchor"),l=(n.find("#linkedAnchor-1"),n.find("#linkedAnchor-2"),!1);$(".main-content"),$(".main-content__secord"),$(".empty-space-block");o.on("click",function(n){n.preventDefault(),t.toggleClass("opened"),t.hasClass("opened")&&t.hasClass("fxd")?(e.addClass("ovHidden"),s.addClass("scrollabe-vertical")):(e.removeClass("ovHidden"),s.removeClass("scrollabe-vertical"))}),i.click(function(n){n.preventDefault(),t.removeClass("opened"),i.removeClass("opened"),e.removeClass("ovHidden")}),r.click(function(e){e.preventDefault();var n=$(this);n.offset().left,n.width();if("linkedAnchor-1"===n.attr("id")){l=!0;t.hasClass("opened")&&(t.removeClass("opened"),-1280),!t.hasClass("fxd")&&t.hasClass("fxd")||26-t.width(),$("html,body").stop().animate({scrollLeft:"+=350"},600,function(){l=!1})}else"linkedAnchor-2"===n.attr("id")&&(l=!0,$("html,body").stop().animate({scrollLeft:0},1300,function(){l=!1}))}),$(".events .events__item").each(function(e,n){var t=$(this),o=d.length-e;t.find(".event__number").text(o)});var c=0,f=new ScrollMagic.Controller({vertical:!1});$(".events .events__item").each(function(e,n){var t=$(this),o=t.find(".event"),s=t.find(".event__number"),a=t.find(".event__img-wrap"),i=t.find(".event__descr"),r=new TimelineMax;if(void 0!==d[e-1]){var l=d[e-1].querySelector(".event"),c=new TweenMax.to(l,.1,{right:"+=639",ease:Power1.easeIn});r.add(c,"0")}var h=new TweenMax.to(o,.1,{width:"+=639",ease:Power1.easeIn}),v=new TweenMax.to(a,.1,{maxHeight:"+=427",ease:Power1.easeIn}),u=new TweenMax.to(i,.1,{top:105,ease:Power1.easeIn}),m=new TweenMax.to(s,.1,{color:"#818181",ease:Power1.easeIn});r.add(h,"0").add(v,"0").add(u,"0").add(m,"0");new ScrollMagic.Scene({triggerElement:t,tweenChanges:!0,duration:340,offset:0,triggerHook:.545}).setTween(r).addIndicators().addTo(f)});var h=0,v=0,u=0,m=$("<div>",{class:"debug_item",css:{backgroundColor:"red",display:"block",position:"fixed",zIndex:"999999",width:"2px",height:"100%",pointerEvents:"none"},offset:{top:0,left:$(window).width()/2-1+71}}),w=m.clone();w.css({height:"2px",width:"100%",left:"0","background-color":"blue",top:$(window).height()/2-1}),$("html").append(m).append(w);var p=0,C=0;$(window).on("scroll",function(e){u=$(this).scrollLeft(),c=u,C=$(this).width(),menuWidth=t.width(),h=C/2,v=t.width(),0===c&&t.hasClass("fxd")?(t.removeClass("fxd").css({opacity:0}).stop().animate({opacity:1},650),a.removeClass("fixed-menu")):c>=menuWidth&&!t.hasClass("fxd")&&!t.hasClass("opened")&&(t.addClass("fxd").css({opacity:0}).stop().animate({opacity:1},650),a.addClass("fixed-menu")),d.each(function(e,n){var t=$(this),o=t.offset().left,s=t.offset().left+t.width();c+h>=o&&!t.hasClass("onview")&&t.css({borderColor:"green"}),c+h>=s+28-346&&t.hasClass("onview")&&t.css({borderColor:"red"})}),p=u})});