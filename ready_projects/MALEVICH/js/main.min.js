!function(e,n){"function"==typeof define&&define.amd?define(["ScrollMagic","jquery"],n):"object"==typeof exports?n(require("scrollmagic"),require("jquery")):n(e.ScrollMagic,e.jQuery)}(this,function(e,n){"use strict";e._util.get.elements=function(e){return n(e).toArray()},e._util.addClass=function(e,t){n(e).addClass(t)},e._util.removeClass=function(e,t){n(e).removeClass(t)},n.ScrollMagic=e}),$(document).ready(function(){var e=$("body"),n=$(".wrapper"),t=n.find(".menu"),o=t.find(".menu__trigger"),s=t.find(".menu__showable-content"),a=n.find(".main-content"),i=n.find(".darkoverlay"),d=n.find(".events__item"),r=n.find(".linkedAnchor"),l=(n.find("#linkedAnchor-1"),n.find("#linkedAnchor-2"),!1),c=$(".main-content");$(".main-content__secord"),$(".empty-space-block");o.on("click",function(n){n.preventDefault(),t.toggleClass("opened"),t.hasClass("opened")&&t.hasClass("fxd")?(e.addClass("ovHidden"),s.addClass("scrollabe-vertical")):(e.removeClass("ovHidden"),s.removeClass("scrollabe-vertical"))}),i.click(function(n){n.preventDefault(),t.removeClass("opened"),i.removeClass("opened"),e.removeClass("ovHidden")}),r.click(function(e){e.preventDefault();var n=$(this),o=n.offset().left,s=n.width(),a=0;if("linkedAnchor-1"===n.attr("id")){l=!0;var i=0;t.hasClass("opened")&&(t.removeClass("opened"),i=-1280),!t.hasClass("fxd")&&t.hasClass("fxd")||(a=26-t.width()),$("html,body").stop().animate({scrollLeft:o+s+a+i},900,function(){l=!1})}else"linkedAnchor-2"===n.attr("id")&&(l=!0,d.each(function(){$(this).removeAttr("offset").removeClass("scrolled")}),c.css({left:0}),$("html,body").stop().animate({scrollLeft:0},1300,function(){l=!1}))}),$(".events .events__item").each(function(e,n){var t=$(this),o=d.length-e;t.find(".event__number").text(o)});var f=0,h=new ScrollMagic.Controller({vertical:!1});$(".events .events__item").each(function(e,n){var t=$(this),o=t.find(".event"),s=t.find(".event__number"),a=t.find(".event__img-wrap"),i=t.find(".event__descr"),r=new TimelineMax;if(void 0!==d[e-1]){var l=d[e-1].querySelector(".event"),c=new TweenMax.to(l,.1,{right:"+=639",ease:Power1.easeIn});r.add(c,"0")}var f=new TweenMax.to(o,.1,{width:"+=639",ease:Power1.easeIn}),v=new TweenMax.to(a,.1,{maxHeight:"+=427",ease:Power1.easeIn}),u=new TweenMax.to(i,.1,{top:105,ease:Power1.easeIn}),m=new TweenMax.to(s,.1,{color:"#818181",ease:Power1.easeIn});r.add(f,"0").add(v,"0").add(u,"0").add(m,"0");new ScrollMagic.Scene({triggerElement:t,tweenChanges:!0,duration:340,offset:0,triggerHook:.545}).setTween(r).addIndicators().addTo(h)});var v=0,u=0,m=0,w=$("<div>",{class:"debug_item",css:{backgroundColor:"red",display:"block",position:"fixed",zIndex:"999999",width:"2px",height:"100%",pointerEvents:"none"},offset:{top:0,left:$(window).width()/2-1+71}}),p=w.clone();p.css({height:"2px",width:"100%",left:"0","background-color":"blue",top:$(window).height()/2-1}),$("html").append(w).append(p);var C=0,g=0;$(window).on("scroll",function(e){m=$(this).scrollLeft(),f=m,g=$(this).width(),menuWidth=t.width(),v=g/2,u=t.width(),0===f&&t.hasClass("fxd")?(t.removeClass("fxd").css({opacity:0}).stop().animate({opacity:1},650),a.removeClass("fixed-menu")):f>=menuWidth&&!t.hasClass("fxd")&&!t.hasClass("opened")&&(t.addClass("fxd").css({opacity:0}).stop().animate({opacity:1},650),a.addClass("fixed-menu")),d.each(function(e,n){var t=$(this),o=t.offset().left,s=t.offset().left+t.width();f+v>=o&&!t.hasClass("onview")&&t.css({borderColor:"green"}),f+v>=s+28-346&&t.hasClass("onview")&&t.css({borderColor:"red"})}),C=m})});